<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡Œç›®é é¢</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="navbar">
        <a href="index.html">â¬…ï¸ è¿”å›é¦–é  (Back)</a>
    </header>

    <main class="container">

        <div class="card text-center">
            <h1 id="display-id">é¡Œç›®è¼‰å…¥ä¸­...</h1>
            <h3 id="display-topic" style="color: #666; font-weight: normal;"></h3>
            <p>è«‹ç´°å¿ƒè†è½æ—‹å¾‹ä¸¦åƒè€ƒæ¨‚è­œ</p>
        </div>

        <section class="card">
            <span class="label-text">ğŸµ æ¨‚è­œ (Music Score)</span>
            <img id="img-score" src="" alt="Music Score" class="score-image" style="min-height: 200px; background: #eee;">
            <p id="error-msg" class="text-center" style="color: red; display: none;">æ‰¾ä¸åˆ°æ­¤é¡Œç›®çš„è³‡æ–™</p>
        </section>

        <section class="card" id="audio-section">
            <div class="audio-player-wrapper">
                <span class="label-text">ğŸ¹ ä¸»æ—‹å¾‹ (Melody)</span>
                <audio id="audio-melody" controls>
                    <source src="" type="audio/mpeg">
                </audio>
            </div>
            
            <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">

            <div class="audio-player-wrapper">
                <span class="label-text">ğŸ¥ ç´”éŸ³æ¨‚/ä¼´å¥ (Backing Track)</span>
                <audio id="audio-backing" controls>
                    <source src="" type="audio/mpeg">
                </audio>
            </div>
        </section>

    </main>

    <script>
        // ---------------------------------------------------------
        // 1. THE DATABASE (Add your questions here!)
        // ---------------------------------------------------------
        const songDatabase = {
            "001": {
                topic: "é¡Œç›®ç¯„ä¾‹ï¼šå…’æ­Œ",
                image: "score_001.png",     // File name of the image
                melody: "melody_001.mp3",   // File name of melody
                backing: "backing_001.mp3"  // File name of backing
            },
            "002": {
                topic: "é¡Œç›®ç¯„ä¾‹ï¼šæµè¡Œæ›²",
                image: "score_002.png",
                melody: "melody_002.mp3",
                backing: "backing_002.mp3"
            },
            "003": {
                topic: "é¡Œç›®ç¯„ä¾‹ï¼šç¶“å…¸é‡‘æ›²",
                image: "score_003.png",
                melody: "melody_003.mp3",
                backing: "backing_003.mp3"
            }
            // To add more, just copy the block above, change ID to "004", and update filenames.
        };

        // ---------------------------------------------------------
        // 2. THE LOGIC (Do not change this unless necessary)
        // ---------------------------------------------------------
        
        // Get the ID from the URL (e.g., question.html?id=001)
        const urlParams = new URLSearchParams(window.location.search);
        const currentId = urlParams.get('id');

        // Grab HTML elements
        const titleEl = document.getElementById('display-id');
        const topicEl = document.getElementById('display-topic');
        const imgEl = document.getElementById('img-score');
        const melodyEl = document.getElementById('audio-melody');
        const backingEl = document.getElementById('audio-backing');
        const errorMsg = document.getElementById('error-msg');
        const audioSection = document.getElementById('audio-section');

        // Check if the ID exists in our database
        if (currentId && songDatabase[currentId]) {
            const data = songDatabase[currentId];

            // Update Text
            titleEl.innerText = "é¡Œç›®ç·¨è™Ÿ #" + currentId;
            topicEl.innerText = data.topic;

            // Update Image Path (Assuming images are in an 'assets' folder)
            imgEl.src = "assets/" + data.image;

            // Update Audio Paths (Assuming audio is in an 'assets' folder)
            melodyEl.src = "assets/" + data.melody;
            backingEl.src = "assets/" + data.backing;
            
            // Reload audio players to ensure new source is ready
            melodyEl.load();
            backingEl.load();

        } else {
            // Error State: ID not found
            titleEl.innerText = "æ‰¾ä¸åˆ°é¡Œç›®";
            imgEl.style.display = 'none';
            audioSection.style.display = 'none';
            errorMsg.style.display = 'block';
            errorMsg.innerText = "ç·¨è™Ÿ #" + (currentId || "æœªçŸ¥") + " ä¸å­˜åœ¨æ–¼è³‡æ–™åº«ä¸­ã€‚";
        }
    </script>
</body>
</html>